pipeline {
  agent any
  stages {
  stage('Build') {
    steps {
      dir('backend') {
        sh 'mvn clean package'
        }
      }
    }
  // stage('Publish artifact') {
  //   environment {
  //     NEXUS_CREDS = credentials('nexus-creds');
  //   }
  //   steps {
  //     sh 'zip -r lineate-artifact.zip ./build'
  //     sh 'curl -vvv -u $NEXUS_CREDS --upload-file lineate-artifact.zip https://repository.dev.thumbtack.net/nexus/content/repositories/dev-ops-2020/sgibnev/lineate-artifact.zip'
  //     }
  //   }
  }
}